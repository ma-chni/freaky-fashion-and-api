@page
@model CheckoutModel
@{
    ViewData["Title"] = "Kassan";
    uint total = 0;
    foreach (var item in Model.Products)
    {
        total += item.Price;
    }
}

<div class="px-4 px-lg-0">
    <!-- For demo purpose -->
    <div class="container text-white py-5 text-center">
        <h1 class="display-4" style="color:black;">Kassan</h1>
    </div>
    <!-- End -->
    <div class="pb-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 p-5 bg-white rounded shadow-sm mb-5">

                    <!-- Shopping cart table -->
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col" class="border-0 bg-light">
                                    </th>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="py-2 text-uppercase">Pris</div>
                                    </th>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="py-2 text-uppercase">Antal</div>
                                    </th>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="py-2 text-uppercase">Totalt</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var product in Model.Products)
                                {
                                    <tr>
                                        <th scope="row" class="border-0">
                                            <div class="p-2">
                                                <img src="@product.ImageUrl" alt="" width="70" class="img-fluid rounded shadow-sm">
                                                <div class="ml-3 d-inline-block align-middle">
                                                    <h5 class="mb-0"> <a asp-page="Product" asp-route-urlSlug="@product.UrlSlug" class="text-dark d-inline-block align-middle">@product.Name</a></h5><span class="text-muted font-weight-normal font-italic d-block">Art.nr: @product.ArticleNumber</span>
                                                </div>
                                            </div>
                                        </th>
                                        <td class="border-0 align-middle">@product.Price kr</td>
                                        <td class="border-0 align-middle">
                                                <input asp-for="Order.Quantity" type="number" name="quantity" id="quantity" min="1" max="10" value="1" />
                                        </td>
                                        <td class="border-0 align-middle">@product.Price kr</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="row py-5 p-4 bg-white rounded shadow-sm mb-5">
                <div class="col-lg-12">
                    <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Kostnader</div>
                    <div class="p-4">
                        <ul class="list-unstyled mb-4">
                            <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Antal artiklar </strong>@Model.Products.Count()</li>
                            <li class="d-flex justify-content-between py-3 border-bottom">
                                <strong class="text-muted">Total</strong>
                                    <h5 class="font-weight-bold">@total kr</h5>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row py-5 p-4 bg-white rounded shadow-sm">
                <div class="col-lg-12">
                    <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Kunduppgifter</div>
                    <div class="p-4">
                        <form method="post">
                            <div class="form-group">
                                <label>Förnamn</label>
                                <input asp-for="Customer.FirstName" type="text"class="form-control" placeholder="Ange förnamn" value="John" />
                                <span class="text-danger" asp-validation-for="Customer.FirstName"></span>
                            </div>
                            <div class="form-group">
                                <label>Efternamn</label>
                                <input asp-for="Customer.LastName" type="text" class="form-control" placeholder="Ange efternamn" value="Doe" />
                                <span class="text-danger" asp-validation-for="Customer.LastName"></span>
                            </div>
                            <div class="form-group">
                                <label>Personnummer</label>
                                <input asp-for="Customer.SocialSecurityNumber" type="text" class="form-control" placeholder="Ange personnummer" value="808001-2010" />
                                <span class="text-danger" asp-validation-for="Customer.SocialSecurityNumber"></span>
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input asp-for="Customer.Email" type="email" class="form-control"  placeholder="Ange e-mail" value="johndoe@doglover420.com" />
                                <span class="text-danger" asp-validation-for="Customer.Email"></span>
                            </div>
                            <div class="form-group">
                                <label>Telefonnummer</label>
                                <input asp-for="Customer.PhoneNumber" type="text" class="form-control" placeholder="Ange telefonnummer" value="0726891209" />
                                <span class="text-danger" asp-validation-for="Customer.PhoneNumber"></span>
                            </div>
                            <div class="form-group">
                                <label>Gata</label>
                                <input asp-for="Address.Street" type="text" class="form-control" placeholder="Ange gata" value="Södergatan 4" />
                                <span class="text-danger" asp-validation-for="Address.Street"></span>
                            </div>
                            <div class="form-group">
                                <label>Stad</label>
                                <input asp-for="Address.City" type="text" class="form-control" placeholder="Ange stad" value="Helsingborg" />
                                <span class="text-danger" asp-validation-for="Address.City"></span>
                            </div>
                            <div class="form-group">
                                <label>Postnummer</label>
                                <input asp-for="Address.Postcode" type="text" class="form-control" placeholder="Ange postnummer" value="420" />
                                <span class="text-danger" asp-validation-for="Address.Postcode"></span>
                            </div>
                            <div class="col mx-auto">
                                <button type="submit" class="btn btn-dark rounded-pill py-2 btn-block mt-4">Slutför köp</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
 </div>
